// CV Page Styles
// Styles for the curriculum vitae page

.cv-container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem 1rem;
  font-family: $font-family-main;
  line-height: 1.5;
  color: var(--text);
  font-size: 0.95em;
  
  @media print {
    max-width: 100%;
    padding: 0;
    font-size: 11pt;
  }
  
  .cv-content-wrapper {
    // Style h2 tags from Markdown as CV sections
    > h2 {
      @extend .cv-section-title;
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
      font-size: 1.2em;
      
      @media print {
        margin-top: 1rem;
        margin-bottom: 0.5rem;
        font-size: 1.1em;
      }
      
      &:first-of-type {
        margin-top: 0;
      }
    }
    
    // Style h3 tags as subsection titles
    > h3 {
      @extend .cv-subsection-title;
    }
    
    // Content between h2 tags is styled via specific selectors below
    
    // Style paragraphs after h2 as section content
    > h2 + p {
      margin-bottom: 0.75rem;
    }
    
    // Style lists
    > ul,
    > ol {
      margin-bottom: 1rem;
    }
    
    // Style the Summary section specifically
    > h2:first-of-type + p {
      @extend .cv-summary;
    }
  }
}

.cv-header {
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  
  @media print {
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
  }
  
  .cv-header-content {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    gap: 2rem;
    
    @media print {
      gap: 1.5rem;
    }
    
    @media (max-width: 768px) {
      flex-direction: column;
      gap: 1rem;
    }
  }
  
  .cv-photo {
    flex-shrink: 0;
    margin-top: 1.5rem;
    
    @media print {
      margin-top: 1rem;
    }
    
    img {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 4px;
      
      @media print {
        width: 120px;
        height: 120px;
      }
    }
  }
  
  .cv-header-right {
    flex: 1;
    text-align: left;
  }
  
  .cv-name {
    font-size: 1.8em;
    margin-bottom: 0.75rem;
    color: var(--text);
    line-height: 1.2;
    text-align: left;
    
    @media print {
      font-size: 1.6em;
      margin-bottom: 0.5rem;
    }
  }
  
  .cv-contact {
    font-size: 0.9em;
    line-height: 1.6;
    color: var(--text);
    text-align: left;
    
    .cv-contact-line {
      margin-bottom: 0.25rem;
      text-align: left;
      
      @media print {
        margin-bottom: 0.15rem;
        font-size: 10pt;
      }
      
      a {
        color: var(--link);
        text-decoration: none;
        
        &:hover {
          text-decoration: underline;
        }
      }
    }
  }
}

.cv-section {
  margin-bottom: 1.5rem;
  
  @media print {
    margin-bottom: 1rem;
    page-break-inside: avoid;
  }
  
  .cv-section-title {
    font-size: 1.2em;
    margin-bottom: 0.75rem;
    color: var(--text);
    line-height: 1.3;
    
    @media print {
      font-size: 1.1em;
      margin-bottom: 0.5rem;
    }
  }
  
  .cv-section-content {
    font-size: 0.95em;
    line-height: 1.6;
    
    @media print {
      font-size: 10.5pt;
      line-height: 1.5;
    }
  }
  
  .cv-subsection-title {
    font-size: 1em;
    font-weight: bold;
    margin-top: 1rem;
    margin-bottom: 0.75rem;
    
    @media print {
      font-size: 10.5pt;
      margin-top: 0.75rem;
      margin-bottom: 0.5rem;
    }
  }
}

// Styles for direct Markdown content in CV
.cv-content-wrapper {
  // Section titles (h2 from Markdown)
  h2 {
    font-size: 1.2em;
    font-weight: bold;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    color: var(--text);
    line-height: 1.3;
    
    @media print {
      font-size: 1.1em;
      margin-top: 1rem;
      margin-bottom: 0.5rem;
    }
  }
  
  // Subsection titles (h3 from Markdown)
  h3 {
    font-size: 1em;
    font-weight: bold;
    margin-top: 1rem;
    margin-bottom: 0.75rem;
    
    @media print {
      font-size: 10.5pt;
      margin-top: 0.75rem;
      margin-bottom: 0.5rem;
    }
  }
  
  // Paragraphs
  p {
    margin-bottom: 0.75rem;
    line-height: 1.6;
    
    @media print {
      margin-bottom: 0.5rem;
      font-size: 10.5pt;
    }
  }
  
  // Lists
  ul, ol {
    margin-bottom: 1rem;
    padding-left: 1.5rem;
    
    li {
      margin-bottom: 0.5rem;
      line-height: 1.5;
    }
  }
  
  // Work Experience and Education sections - format as two-column table
  // Target ul lists that follow "Work Experience" (1st h2) and "Education" (2nd h2) headings
  // These sections use the structure: li > strong (years) + ul (position + affiliation)
  > h2:nth-of-type(1) + ul,
  > h2:nth-of-type(2) + ul {
    display: table;
    width: 100%;
    border-collapse: collapse;
    list-style: none;
    padding: 0;
    margin-bottom: 1rem;
    
    > li {
      display: table-row;
      list-style: none;
      margin-bottom: 0;
      
      // Years column (strong element, normal font weight)
      > strong:first-child {
        display: table-cell;
        width: 25%;
        vertical-align: top;
        padding-right: 1rem;
        padding-bottom: 0.5rem;
        font-weight: normal;
        
        @media print {
          width: 20%;
          padding-right: 0.75rem;
          padding-bottom: 0.25rem;
        }
      }
      
      // Details column (nested ul)
      > ul {
        display: table-cell;
        vertical-align: top;
        padding-bottom: 0.5rem;
        padding-left: 0;
        list-style: none;
        margin: 0;
        
        @media print {
          padding-bottom: 0.25rem;
        }
        
        > li {
          margin-bottom: 0.25rem;
          line-height: 1.5;
          
          &:first-child {
            font-weight: bold;
          }
          
          @media print {
            margin-bottom: 0.15rem;
          }
        }
      }
    }
  }
  
  // PhD Students list - format as two-column table (year | name)
  .cv-students-list {
    display: table;
    width: 100%;
    border-collapse: collapse;
    list-style: none;
    padding: 0;
    margin-bottom: 1rem;
    
    > li {
      display: table-row;
      list-style: none;
      margin-bottom: 0;
      
      // Year column (span element, normal font weight)
      > .cv-student-year,
      > span:first-child {
        display: table-cell;
        width: 25%;
        vertical-align: top;
        padding-right: 1rem;
        padding-bottom: 0.5rem;
        font-weight: normal;
        
        @media print {
          width: 20%;
          padding-right: 0.75rem;
          padding-bottom: 0.25rem;
        }
      }
      
      // Name column (nested ul)
      > ul {
        display: table-cell;
        vertical-align: top;
        padding-bottom: 0.5rem;
        padding-left: 0;
        list-style: none;
        margin: 0;
        
        @media print {
          padding-bottom: 0.25rem;
        }
        
        > li {
          margin-bottom: 0;
          line-height: 1.5;
        }
      }
    }
  }
  
  // Summary section (first paragraph after first h2)
  h2:first-of-type + p {
    text-align: justify;
  }
  
}

.cv-summary {
  text-align: justify;
  margin-bottom: 0.75rem;
  line-height: 1.6;
  
  @media print {
    margin-bottom: 0.5rem;
  }
}

.cv-timeline-item {
  margin-bottom: 0.75rem;
  
  @media print {
    margin-bottom: 0.5rem;
  }
  
  .cv-timeline-period {
    color: var(--text);
    margin-bottom: 0.15rem;
    line-height: 1.4;
  }
  
  .cv-timeline-title {
    margin-bottom: 0.15rem;
    line-height: 1.4;
  }
  
  .cv-timeline-location {
    color: #555;
    line-height: 1.4;
  }
}

.cv-list {
  list-style: none;
  padding-left: 0;
  
  .cv-list-item {
    margin-bottom: 0.5rem;
    padding-left: 1.25rem;
    position: relative;
    line-height: 1.5;
    
    &::before {
      content: "â€¢";
      position: absolute;
      left: 0;
      color: var(--text);
      font-weight: normal;
    }
    
    @media print {
      margin-bottom: 0.35rem;
      padding-left: 1rem;
    }
  }
}

.cv-publication {
  margin-bottom: 0.5rem;
  padding-left: 0;
  text-indent: 0;
  line-height: 1.5;
  
  @media print {
    margin-bottom: 0.4rem;
  }
  
  .cv-publication-number {
    font-weight: normal;
    margin-right: 0.25rem;
  }
  
  .cv-publication-authors {
    font-weight: normal;
  }
  
  .cv-publication-title {
    font-style: italic;
  }
  
  .cv-publication-venue {
    color: #555;
  }
  
  .cv-publication-links {
    margin-top: 0.15rem;
    font-size: 0.85em;
    
    a {
      margin-right: 1rem;
      color: var(--link);
      text-decoration: none;
      
      &:hover {
        text-decoration: underline;
      }
    }
  }
}

.cv-talk {
  margin-bottom: 0.5rem;
  padding-left: 0;
  text-indent: 0;
  line-height: 1.5;
  
  @media print {
    margin-bottom: 0.4rem;
  }
  
  .cv-talk-content {
    display: block;
  }
  
  .cv-talk-title {
    font-weight: normal;
  }
  
  .cv-talk-venue {
    color: #555;
  }
  
  .cv-talk-date {
    color: #555;
  }
  
  .cv-talk-links {
    margin-top: 0.15rem;
    font-size: 0.85em;
    
    a {
      margin-right: 1rem;
      color: var(--link);
      text-decoration: none;
      
      &:hover {
        text-decoration: underline;
      }
    }
  }
}
// Certification section
.cv-certification {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 2px solid var(--border, #ddd);
  text-align: center;
  font-style: italic;
  color: #666;
  font-size: 0.9em;
  
  p {
    margin: 0.5rem 0;
  }
  
  @media print {
    margin-top: 2rem;
    padding-top: 1.5rem;
  }
}

// Print styles
@media print {
  // Remove navigation bar and footer when printing CV
  .site-header,
  .site-footer,
  footer {
    display: none !important;
  }
  
  // Set up page counter for page numbers
  body {
    counter-reset: page;
  }
  
  .cv-container {
    counter-reset: page;
  }
  
  // Page numbering and margins
  @page {
    // Further reduced margins: 0.75in top/bottom, 0.4in left/right
    margin: 0.75in 0.4in;
    
    // Add header "Curriculum Vitae - Yi-Zhuang You" at top center
    @top-center {
      content: "Curriculum Vitae - Yi-Zhuang You";
      font-size: 10pt;
      color: #666;
      font-weight: normal;
    }
    
    // Add page number at bottom center
    @bottom-center {
      content: "Page " counter(page) " of " counter(pages);
      font-size: 10pt;
      color: #666;
    }
    
    // Clear browser default headers/footers
    @top-right {
      content: "";
    }
    @bottom-right {
      content: "";
    }
  }
  
  .cv-container {
    font-size: 11pt;
    margin-top: 0;
    padding-top: 0;
  }
  
  .cv-section {
    page-break-inside: avoid;
  }
  
  a {
    color: #000;
    text-decoration: none;
  }
  
  .cv-publication-links,
  .cv-talk-links {
    display: none;
  }
  
  // Adjust page-content padding since navbar is hidden
  .page-content {
    padding-top: 0;
    margin-top: 0;
  }
}

